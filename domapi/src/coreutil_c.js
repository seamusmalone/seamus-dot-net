// Copyright 2001-2003, Nebiru Software
// www.domapi.com
Array.prototype.deleteItem=function(i){if(i<0||i>(this.length-1))return;if(i==(this.length-1)){this.length--;return}for(var a=(i+1);a<this.length;a++)this[a-1]=this[a];this.length--};Array.prototype.deleteValue=function(v){for(var a=0;a<this.length;a++)if(this[a]==v)this.deleteItem(a)};if(!Array.prototype.push)Array.prototype.push=function(v){this[this.length]=v};if(!Array.prototype.pop)Array.prototype.pop=function(){if(this.length<1)return null;var result=this[this.length-1];this.deleteItem(this.length-1);return result};Array.prototype.insert=function(i,v){if(i<0||i>(this.length-1))return;for(var a=this.length;a>i;a--)this[a]=this[a-1];this[i]=v};core.isNil=function(s){return s==null||!String(s).length};core.rInt=function(s,d){return(core.isNil(s)||isNaN(s))?((core.isNil(d)||isNaN(d))?0:d):parseInt(s)};core.rVal=function(s,d){return(core.isNil(s)?(core.isNil(d)?"":d):s)};core.bodyWidth=function(){return parseInt(core.isIE?(!core.isStrict?document.body.clientWidth:document.documentElement.clientWidth):window.innerWidth)};core.bodyHeight=function(){return parseInt(core.isIE?(!core.isStrict?document.body.clientHeight:document.documentElement.clientHeight):window.innerHeight)};core.scrollTop=function(){return core.isIE?(core.isStrict?document.documentElement.scrollTop:document.body.scrollTop):pageYOffset};core.scrollLeft=function(){return core.isIE?(core.isStrict?document.documentElement.scrollLeft:document.body.scrollLeft):pageXOffset};core.mousePosition=function(E){if(core.isIE)return[event.x,event.y];else return[E.pageX,E.pageY]};core.guid=function(){return "G"+new Date().getTime()+Math.floor(1000*Math.random())};core.getElm=function(i){return document.getElementById(i)};core.getTarget=function(E){return core.isNS?E.target:event.srcElement};core.findTarget=function(E,k){return core.findParent(core.getTarget(E),k)};core.findParent=function(n,k){if(!n)return null;while(n.parentNode){if(n.nodeName==k)return n;if(n.domAPIObjType==k)return n;n=n.parentNode}return null};core.getNodeIndex=function(n){if(!n)return null;r=0;var t=n.previousSibling;while(t){r++;t=t.previousSibling}return r};core.transferElm=function(e,t){var temp=e.parentNode.removeChild(e);t.insertAdjacentElement("beforeEnd",temp)};core.insertElm=function(e,t,w){if(!e)return;e.moveTo();e.setPosition("relative");if(!t)return;if(core.isIE5Mac){t.insertAdjacentElement=insertAdj_El;t.insert__Adj=insert__Adj}t.insertAdjacentElement(core.rVal(w,"afterBegin"),e)};core.getTrueOffset=function(e){var x=0;var y=0;if(!e)return [x,y];while(e&&(e.style.position=="relative"||e.style.position=="absolute")){x+=core.rInt(e.offsetLeft);y+=core.rInt(e.offsetTop);e=e.parentNode}return [x,y]};core.disallowSelect=function(e){e.onselectstart=core._nullFunction;e.style.userSelect="none"};core._nullFunction=function(){return false};core.boxValuesOut=function(s){if(core.isNil(s)||isNaN(parseInt(s)))return [0,0,0,0];var a=s.split(" ");for(var i=0;i<a.length;i++)a[i]=parseInt(a[i]);switch(a.length){case 1:a[1]=a[0];a[2]=a[0];a[3]=a[0];break;case 2:a[2]=a[0];a[3]=a[1];break;case 3:a[3]=a[1];break}return a};core.boxValuesIn=function(t,r,b,l){if(typeof(t)=="object"&&t.length){r=t[1];b=t[2];l=t[3];t=t[0]}t=core.rInt(t);if(core.isNil(l)){if(core.isNil(b)){if(core.isNil(r)){r=t;b=t;l=t}else{b=t;l=r}}else{r=rInt(r);l=r}}var px="px ";return t+px+r+px+b+px+l+"px"};core._textDimension=function(text,font){var e=document.createElement("SPAN");e.style.position="absolute";e.style.visibility="hidden";e.style.whiteSpace="nowrap";e.style.lineHeight="1";e.style.padding="0px";if(font)e.style.font=font;e.innerHTML=text;document.body.appendChild(e);var r=[e.offsetWidth,e.offsetHeight];document.body.removeChild(e);return r};core.textWidth=function(text,font){return core._textDimension(text,font)[0]};core.textHeight=function(text,font){return core._textDimension(text,font)[1]};
