// Copyright 2001-2003, Nebiru Software
// www.domapi.com
core.nodesort={};core.nodesort.nodeSort=function(c,dir,type,obj,objx,cmp_fn,lo,hi){if(c==null||c.length<2)return;lo=core.rInt(lo,0);hi=core.rInt(hi,c.length-1);dir=core.rInt(dir,0);if(cmp_fn==null)this._nodeSort(c,dir,type,obj,objx,this._def_cmp_fn,lo,hi);else this._nodeSort(c,dir,type,obj,objx,cmp_fn,lo,hi)};core.nodesort._nodeSort=function(c,dir,type,obj,objx,cmp_fn,lo,hi){if(lo<hi){var v=this._partition(c,dir,type,obj,objx,cmp_fn,lo,hi);this._nodeSort(c,dir,type,obj,objx,cmp_fn,lo,v-1);this._nodeSort(c,dir,type,obj,objx,cmp_fn,v+1,hi)}};core.nodesort._partition=function(c,dir,type,obj,objx,cmp_fn,lo,hi){var t=lo;for(var i=lo+1;i<=hi;i++)if(cmp_fn(c[i],c[lo],dir,type,obj,objx)<0){t++;c[t].swapNode(c[i])}c[lo].swapNode(c[t]);return t};core.nodesort._assertStr=function(e){return e.innerText;var _e=e;while(_e.childNodes.length>0&&_e.innerHTML.charAt(0)=="<")_e=_e.childNodes[0];return _e.innerHTML};core.nodesort._def_cmp_fn=function(a,b,dir,type,obj,objx){var t=core.nodesort;if(!core.isNil(obj)){a=a[obj][objx];b=b[obj][objx]}a=t._assertStr(a);b=t._assertStr(b);if(type==1){a=parseFloat(a);b=parseFloat(b)}if(dir==0)return(a==b)?0:(a>b)?1:-1;else return(a==b)?0:(a<b)?1:-1};
