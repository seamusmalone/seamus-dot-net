// Copyright 2001-2003, Nebiru Software
// www.domapi.com
core.loadUnit("button");core.loadUnit("imagelist");core.registerComponent("speedbutton");function Speedbutton(arg){w=core.rInt(arg.w,25);h=core.rInt(arg.h,25);if(arg.parent&&arg.parent.domAPIObjType=="TOOLBAR"){arg.x=core.rInt(arg.x);arg.y=core.rInt(arg.y)}arg.w=w;arg.h=h;var e=core._component(arg,"speedbutton",true);core._inherit(e,"label");core._inherit(e,"button");core._inherit(e,"speedbutton");e.reDraw=core.comps.speedbutton.reDraw;e.title=core.rVal(arg.hint);e.groupid=core.rInt(arg.groupid);e.imgW=core.rInt(arg.imgW,16);e.imgH=core.rInt(arg.imgH,16);e.imageCount=core.rInt(arg.imgCount,2);e.allowAllUp=false;e.down=false;e.setCaption("");core.disallowSelect(e);e.image=ImageList(e.cell,arg.img,e.imageCount,e.imgW,e.imgH);var s=e.image.style;e.buttonUp();e.setTextAlign("center");e.cell.style.paddingLeft=core.isIE?(core.isStrict?"2px":"2px"):("4px");e.cell.style.paddingTop=core.isIE?(core.isStrict?"5px":"8px"):("11px");e.reDraw();return e};core.comps.speedbutton.reDraw=function(){this.labelReDraw();this.buttonReDraw();this.speedButtonReDraw();this.onredraw()};core.comps.speedbutton.speedButtonReDraw=function(){if(!this.image)return;var s=this.image.style;var py=parseInt(this.theme.bdrWidth)*(core.isNS?12:4);s.top="-"+py+"px"};core.comps.speedbutton.setEnabled=function(b){this.image.setImage(b?0:1);this._setEnabled(b)};core.comps.speedbutton.onmouseout=function(){if(!this.down)this.buttonUp();if(!this.enabled||!this.doRollover)return;if(this.doRolloverFill&&this.doBGFill)this.setBgColor(this.theme.ctrlBgColor)};core.comps.speedbutton.onmousedown=function(){if(this.enabled)this.buttonDown()};core.comps.speedbutton.onmouseup=function(){if(!this.enabled)return;if(this.groupid>0){this.popSBGroup();if(!this.down){this.down=true;this.buttonDown()}else if(this.allowAllUp){this.down=false;this.buttonUp()}}else this.buttonUp()};core.comps.speedbutton.popSBGroup=function(){var p=this.parentNode;for(var a=0;a<p.childNodes.length;a++){var t=p.childNodes[a];if(t.domAPIObjType&&t.domAPIObjType=="SPEEDBUTTON")if(t.groupid==this.groupid&&t.id!=this.id){t.down=false;t.buttonUp(t.theme.bdrWidth)}}};
